<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Abertura de Chamado</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white flex flex-col">

  <!-- Navbar -->
  <header class=" top-0 left-0 w-full bg-transparent z-50">
    <div class="max-w-7xl mx-auto flex items-center justify-between px-4 py-3">
      <a><img src="img/Logo - Fatec - Motor Control.png" class="max-w-xs max-h-12"></a>
      <div class="flex items-center space-x-6">
        <a href="index.html" class="text-white text-lg py-2 px-4 cursor-pointer">InÃ­cio</a>
        <a href="pre_chamado.html" class="text-white text-lg py-2 px-4 cursor-pointer">Chamado</a>
        <a href="login.html"
          class="cursor-pointer border-none rounded-[30px] p-2 px-4 bg-[#FBFEF9] transition delay-10 duration-300 ease-in-out hover:shadow-lg shadow-blue-500/50 text-black hover:bg-[#D2EFFF] hover:scale-110 hover:text-[#0E79B2]">Dashboard</a>
      </div>
    </div>
  </header>

  <!-- ConteÃºdo principal -->
  <main class="flex-grow flex items-center justify-center pt-15">
    <!-- Card de Abertura de Chamado -->
    <div class="bg-gray-900 bg-opacity-70 p-8 rounded-2xl shadow-2xl w-full max-w-md">
      <h1 class="text-2xl font-bold mb-4 text-center">Abrir Chamado</h1>
      <p class="mb-6 text-center text-gray-300">Preencha os dados abaixo para registrar seu chamado</p>

      <form id="formChamado" class="space-y-4">
        <!-- Nome -->
        <div>
          <label for="nome" class="block mb-1">Seu nome</label>
          <input type="text" id="nome" required placeholder="Digite seu nome"
            class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Email -->
        <div>
          <label for="email" class="block mb-1">Seu e-mail</label>
          <input type="email" id="email" required placeholder="exemplo@email.com"
            class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- TÃ­tulo do Problema -->
        <div>
          <label for="titulo" class="block mb-1">TÃ­tulo do Problema</label>
          <input type="text" id="titulo" required placeholder="Ex: Impressora nÃ£o imprime"
            class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- DescriÃ§Ã£o -->
        <div>
          <label for="descricao" class="block mb-1">DescriÃ§Ã£o detalhada</label>
          <textarea id="descricao" required rows="4" placeholder="Explique melhor o problema"
            class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
        </div>

        <!-- Prioridade -->
        <div>
          <label for="prioridade" class="block mb-1">NÃ­vel de Prioridade</label>
          <select id="prioridade" required
            class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="">Selecione...</option>
            <option value="Baixa">ðŸ”µ Baixa</option>
            <option value="MÃ©dia">ðŸŸ¡ MÃ©dia</option>
            <option value="Alta">ðŸ”´ Alta</option>
          </select>
        </div>

        <!-- BotÃ£o -->
        <button type="submit"
          class="w-full bg-blue-600 hover:bg-blue-700 px-4 py-3 rounded-lg font-semibold transition">
          Enviar Chamado
        </button>
      </form>

      <!-- Mensagem de confirmaÃ§Ã£o -->
      <p id="mensagem" class="mt-4 text-center text-green-400 hidden">âœ… Chamado salvo com sucesso!</p>

      <!-- Link para ver chamados -->
      <div class="mt-4 text-center">
        <a href="meus_chamados.html" class="text-blue-400 hover:underline">ðŸ“‹ Ver meus chamados</a>
      </div>
    </div>
  </main>

  <script>
    const form = document.getElementById("formChamado");
    const mensagem = document.getElementById("mensagem");

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      // pegar os valores do formulÃ¡rio
      const chamado = {
        nome: document.getElementById("nome").value,
        email: document.getElementById("email").value,
        titulo: document.getElementById("titulo").value,
        descricao: document.getElementById("descricao").value,
        prioridade: document.getElementById("prioridade").value,
        data: new Date().toLocaleString()
      };

      // recuperar os chamados existentes do LocalStorage
      let chamados = JSON.parse(localStorage.getItem("chamados")) || [];

      // adicionar o novo chamado
      chamados.push(chamado);

      // salvar no LocalStorage
      localStorage.setItem("chamados", JSON.stringify(chamados));

      // feedback pro usuÃ¡rio
      mensagem.classList.remove("hidden");
      form.reset();
    });
  </script>
</body>
</html>
